# Core audio/MIDI stack
numpy==1.24.3
scipy==1.10.1
scikit-learn<=1.5.1
setuptools>=65.0.0
librosa==0.10.1
soundfile>=0.12.1
pretty_midi>=0.2.10
mido>=1.3.2
music21==8.3.0
tqdm>=4.66
pyyaml>=6.0.1
resampy>=0.4.2

# Pitch transcription - Basic Pitch
basic-pitch==0.3.0
tensorflow>=2.13.0,<2.16.0
mir-eval>=0.8

# Separation (HTDemucs)
demucs==4.0.1

# Torch stack (needed by Demucs + ADTOF)
torch==2.1.0
torchaudio==2.1.0

# Drum transcription (ADTOF) from GitHub
# This installs the library so that `import adtof_pytorch` works.
adtof_pytorch @ git+https://github.com/xavriley/ADTOF-pytorch.git@main#egg=adtof_pytorch

# Optional: QC / simple UI
gradio>=4.0.0

# Optional extras (documented, not required for basic use):
# basic-pitch[tf]     # if you want TensorFlow SavedModel support as well
# madmom==0.16.1      # if you want madmom beat/downbeat functions
